<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENSAM x Cartier</title>
    <link href="https://fonts.googleapis.com/css2?family=Libre+Bodoni:ital,wght@1,400&family=Playfair+Display:wght@400;700&family=Montserrat:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="../script.js" defer></script>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="header-image">
        <div class="header-overlay">ENSAM x Cartier</div> <!-- Overlay text -->
    </div>

    <header class="menu">
        <nav>
            <ul>
                <li><a href="../index.html">Accueil</a></li>
                <li><a href="onglet1.html">Onglet 1</a></li>
                <li><a href="onglet2.html">Onglet 2</a></li>
                <li><a href="onglet3.html">Onglet 3</a></li>
                <li><a href="onglet4.html">Onglet 4</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>


    <main class="content">
        <h1>Histogramme des Matériaux</h1>
        <canvas id="materialsChart" width="800" height="400"></canvas>
    </main>

    <div class="footer">
        <p>&copy; 2024/2025 Baptiste Légier, Pierre-Vincent Arcade, Valentin Hyaumet. All rights reserved.</p>
    </div>
    
    <script>
        // Charger le fichier JSON et créer l'histogramme
        fetch('../static/json/materials.json') // Remplacez par le chemin correct vers votre fichier JSON
            .then(response => response.json())
            .then(data => {
                const labels = data.map(item => item["Material Family"]);
                const co2Data = data.map(item => item["Impact CO2 (t CO2e)"]);
                const weightData = data.map(item => item["Material weight (t)"]);

                const ctx = document.getElementById('materialsChart').getContext('2d');
                const materialsChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Impact CO2 (t CO2e)',
                            data: co2Data,
                            backgroundColor: 'rgba(75, 192, 192, 0.5)',
                        }, {
                            label: 'Material Weight (t)',
                            data: weightData,
                            backgroundColor: 'rgba(255, 99, 132, 0.5)',
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            })
            .catch(error => console.error('Erreur lors du chargement du JSON:', error));
    </script>
</body>
</html>
